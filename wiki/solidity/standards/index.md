---
title: åˆçº¦ä»£ç è§„èŒƒ
sidebar_label: ðŸ¤ªä»£ç è§„èŒƒ
sidebar_position: 60
image: /img/bac111.png
description: desc
---
import {EmbedGiscus} from '@site/src/components/Talk'

![bac-info](./assets/bac-info10.png)

**å°±åƒå›¾ä¸­æ‰€è¯´çš„ï¼Œå¥½çš„ä»£ç ï¼Œè¢«åæ§½çš„ç›¸å¯¹å°±è¾ƒå°‘ï¼Œæ‚ä¹±ç¹é‡çš„ä»£ç ï¼Œå¯èƒ½å°±å……æ»¡äº†åæ§½**

æ•´æ´çš„ä»£ç æ˜¯æ˜“äºŽé˜…è¯»çš„ä»£ç ï¼Œå®¹æ˜“ç†è§£ï¼Œå¹¶ä¸”æ˜“äºŽç»´æŠ¤ã€‚ç®€æ´çš„ä»£ç æ˜¯ä¸€ç§å°è¯•ï¼Œä»¥äº†è§£æˆ‘ä»¬æ­£åœ¨å¤„ç†çš„ç³»ç»Ÿçš„å¤æ‚ã€‚
å®ƒæ˜¯ä¸€ç§é˜²å¾¡æœºåˆ¶ï¼Œå½“ä½ ä¸ç¡®å®šæŸä¸ªæ›´æ”¹å°†å¦‚ä½•å½±å“ä»£ç åº“æ—¶ï¼Œå®ƒå¯ä»¥æä¾›æŒ‡å¯¼ã€‚å°½ç®¡æ‰‹å†Œå­˜åœ¨æœ‰æ•ˆçš„æ‰¹è¯„ï¼Œ
å¹¶ä¸”ç¤ºä¾‹è¢«è®¤ä¸ºå·²è¿‡æ—¶ï¼Œä½†è¿™äº›åŽŸåˆ™ä»ç„¶éžå¸¸ç›¸å…³ã€‚ ç‰¹åˆ«æ˜¯å¯¹äºŽé¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œä¾‹å¦‚Solidityã€‚
å®ƒä»¬é€‚ç”¨äºŽè®¾è®¡å’Œç¼–å†™å®‰å…¨ï¼Œå¼€æºå’Œä¸å˜çš„ä»£ç ï¼Œå¦‚æ™ºèƒ½åˆçº¦ã€‚

æ•´æ´çš„ä»£ç æ˜¯æ˜“äºŽé˜…è¯»çš„ä»£ç ï¼Œå®¹æ˜“ç†è§£ï¼Œå¹¶ä¸”æ˜“äºŽç»´æŠ¤ã€‚
ç®€æ´çš„ä»£ç æ˜¯ä¸€ç§å°è¯•ï¼Œä»¥äº†è§£æˆ‘ä»¬æ­£åœ¨å¤„ç†çš„ç³»ç»Ÿçš„å¤æ‚ã€‚
å®ƒæ˜¯ä¸€ç§é˜²å¾¡æœºåˆ¶ï¼Œå½“ä½ ä¸ç¡®å®šæŸä¸ªæ›´æ”¹å°†å¦‚ä½•å½±å“ä»£ç åº“æ—¶ï¼Œå®ƒå¯ä»¥æä¾›æŒ‡å¯¼ã€‚
å°½ç®¡æ‰‹å†Œå­˜åœ¨æœ‰æ•ˆçš„æ‰¹è¯„ï¼Œå¹¶ä¸”ç¤ºä¾‹è¢«è®¤ä¸ºå·²è¿‡æ—¶ï¼Œä½†è¿™äº›åŽŸåˆ™ä»ç„¶éžå¸¸ç›¸å…³ã€‚
ç‰¹åˆ«æ˜¯å¯¹äºŽé¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œä¾‹å¦‚Solidityã€‚ å®ƒä»¬é€‚ç”¨äºŽè®¾è®¡å’Œç¼–å†™å®‰å…¨ï¼Œå¼€æºå’Œä¸å˜çš„ä»£ç ï¼Œå¦‚æ™ºèƒ½åˆçº¦ã€‚

æœ¬ç¯‡ä»‹ç»å‡ ç§å¯åº”ç”¨äºŽåŒºå—é“¾å’Œæ™ºèƒ½åˆçº¦å¼€å‘çš„æ¨¡å¼ï¼Œå®žè·µå’ŒåŽŸåˆ™ï¼Œä»¥é™ä½Žä¸Žä¹‹ç›¸å…³çš„é£Žé™©ã€‚

:::warning æ³¨æ„
é£Žæ ¼æŒ‡å—æ˜¯å…³äºŽä¸€è‡´æ€§çš„ã€‚é‡è¦çš„æ˜¯ä¸Žæ­¤é£Žæ ¼æŒ‡å—ä¿æŒä¸€è‡´ã€‚
ä½†é¡¹ç›®ä¸­çš„ä¸€è‡´æ€§æ›´é‡è¦ã€‚ä¸€ä¸ªæ¨¡å—æˆ–åŠŸèƒ½å†…çš„ä¸€è‡´æ€§æ˜¯æœ€é‡è¦çš„ã€‚
ä½†æœ€é‡è¦çš„æ˜¯ï¼šçŸ¥é“ä»€ä¹ˆæ—¶å€™ä¸ä¸€è‡´ â€”â€” æœ‰æ—¶é£Žæ ¼æŒ‡å—ä¸é€‚ç”¨ã€‚
å¦‚æœ‰ç–‘é—®ï¼Œè¯·è‡ªè¡Œåˆ¤æ–­ã€‚çœ‹çœ‹å…¶ä»–ä¾‹å­ï¼Œå¹¶å†³å®šä»€ä¹ˆçœ‹èµ·æ¥æœ€å¥½ã€‚å¹¶åº”æ¯«ä¸çŠ¹è±«åœ°è¯¢é—®ä»–äººï¼
:::

### å‘½å

åˆçº¦ã€å‡½æ•°æˆ–å˜é‡çš„å‘½ååº”è¯¥æ­ç¤ºå…¶æ„å›¾ã€å­˜åœ¨åŽŸå› ä»¥åŠå¦‚ä½•ä½¿ç”¨ã€‚å¦‚æžœä¸€ä¸ªåå­—éœ€è¦æ³¨é‡Šæ¥è§£é‡Šï¼Œé‚£ä¹ˆå®ƒä¸ä¼šé€éœ²å®ƒçš„æ„å›¾ã€‚
ä»£ç çš„å‘½åè¦ä¸€è‡´ã€‚ç‰¹åˆ«æ˜¯å½“ä½ ä½¿ç”¨ä¸€ä¸ªå¤§åž‹çš„ä»£ç åº“æ—¶ã€‚åœ¨å¤šä¸ªåˆçº¦ä¸­ï¼Œå¯¹æŠ½è±¡æ¦‚å¿µä½¿ç”¨ç›¸åŒçš„åç§°ã€‚
ä½¿ç”¨å¯è¯»å¾—å‡ºçš„åå­—ã€‚
ä½¿ç”¨å¯æœç´¢çš„åç§°ã€‚

> â€œThere are only two hard things in Computer Science: cache invalidation and naming things.â€ï¼ˆè®¡ç®—ç§‘å­¦ä¸­æœ€éš¾çš„ä¸¤ä»¶äº‹æ˜¯ç¼“å­˜å¤±æ•ˆå’Œå‘½åï¼‰ - Phil Karlton

ä¸ºäº†é¿å…æ··æ·†ï¼Œä¸‹é¢çš„åå­—ç”¨æ¥æŒ‡æ˜Žä¸åŒçš„å‘½åæ–¹å¼ã€‚

- b (å•ä¸ªå°å†™å­—æ¯)
- B (å•ä¸ªå¤§å†™å­—æ¯)
- lowercase ï¼ˆå°å†™ï¼‰
- UPPERCASE ï¼ˆå¤§å†™ï¼‰
- UPPER_CASE_WITH_UNDERSCORES ï¼ˆå¤§å†™å’Œä¸‹åˆ’çº¿ï¼‰
- CapitalizedWords (é©¼å³°å¼ï¼Œé¦–å­—æ¯å¤§å†™ï¼‰
- mixedCase (æ··åˆå¼ï¼Œä¸Žé©¼å³°å¼çš„åŒºåˆ«åœ¨äºŽé¦–å­—æ¯å°å†™ï¼)

:::info
å½“åœ¨é©¼å³°å¼å‘½åä¸­ä½¿ç”¨ç¼©å†™æ—¶ï¼Œåº”è¯¥å°†ç¼©å†™ä¸­çš„æ‰€æœ‰å­—æ¯éƒ½å¤§å†™ã€‚ 
å› æ­¤ `HTTPServerError` æ¯” `HttpServerError` å¥½ã€‚
å½“åœ¨æ··åˆå¼å‘½åä¸­ä½¿ç”¨ç¼©å†™æ—¶ï¼Œé™¤äº†ç¬¬ä¸€ä¸ªç¼©å†™ä¸­çš„å­—æ¯å°å†™ï¼ˆå¦‚æžœå®ƒæ˜¯æ•´ä¸ªåç§°çš„å¼€å¤´çš„è¯ï¼‰ä»¥å¤–ï¼Œ
å…¶ä»–ç¼©å†™ä¸­çš„å­—æ¯å‡å¤§å†™ã€‚ å› æ­¤ `xmlHTTPRequest` æ¯” `XMLHTTPRequest` æ›´å¥½ã€‚
:::

#### åº”é¿å…çš„åç§°

- l - elçš„å°å†™æ–¹å¼
- O - ohçš„å¤§å†™æ–¹å¼
- I - eyeçš„å¤§å†™æ–¹å¼
åˆ‡å‹¿å°†ä»»ä½•è¿™äº›ç”¨äºŽå•ä¸ªå­—æ¯çš„å˜é‡åç§°ã€‚ ä»–ä»¬ç»å¸¸éš¾ä»¥ä¸Žæ•°å­— 1 å’Œ 0 åŒºåˆ†å¼€ã€‚

#### åˆçº¦å’Œåº“åç§°
åˆçº¦å’Œåº“åç§°åº”è¯¥ä½¿ç”¨é©¼å³°å¼é£Žæ ¼ã€‚
æ¯”å¦‚ï¼š `SimpleToken`ï¼Œ`SmartBank`ï¼Œ`CertificateHashRepository`ï¼Œ`Player`ï¼Œ`Congress`,`Owned`ã€‚ 
- åˆçº¦å’Œåº“çš„åç§°åº”è¯¥å’Œä»–ä»¬çš„æ–‡ä»¶åä¸€è‡´ã€‚ 
- å¦‚æžœåˆçº¦æ–‡ä»¶åŒ…å«å¤šä¸ªåˆçº¦æˆ–åº“ï¼Œåˆ™æ–‡ä»¶ååº”è¯¥åŒ¹é…æ ¸å¿ƒåˆçº¦ï¼Œä½†æˆ‘ä»¬åº”è¯¥å°½é‡é¿å…è¿™ä¸ªæƒ…å†µã€‚

å¦‚ä¸‹é¢çš„ä¾‹å­æ‰€ç¤ºï¼Œå¦‚æžœåˆçº¦åç§°æ˜¯ `Congress` ï¼Œåº“åç§°æ˜¯ `Owned`ï¼Œé‚£ä¹ˆå®ƒä»¬çš„ç›¸å…³æ–‡ä»¶ååº”è¯¥æ˜¯ `Congress.sol` å’Œ `Owned.sol` ã€‚

æ­£ç¡®å†™æ³•:

```js
// SPDX-License-Identifier: GPL-3.0
pragma solidity ^0.7.0;

// Owned.sol
contract Owned {
address public owner;

    constructor() {
        owner = msg.sender;
    }

    modifier onlyOwner {
        require(msg.sender == owner);
        _;
    }

    function transferOwnership(address newOwner) public onlyOwner {
        owner = newOwner;
    }
}
```
åœ¨ `Congress.sol` æ–‡ä»¶ä¸­:

```js
// SPDX-License-Identifier: GPL-3.0
pragma solidity >=0.4.0 <0.9.0;

import "./Owned.sol";

contract Congress is Owned, TokenRecipient {
//...
}
```

#### ç»“æž„ä½“åç§°
ç»“æž„ä½“åç§°åº”è¯¥ä½¿ç”¨é©¼å³°å¼é£Žæ ¼ã€‚æ¯”å¦‚ï¼š`MyCoin`ï¼Œ`Position`ï¼Œ`PositionXY`ã€‚

#### äº‹ä»¶åç§°
äº‹ä»¶åç§°åº”è¯¥ä½¿ç”¨é©¼å³°å¼é£Žæ ¼ã€‚æ¯”å¦‚ï¼š`Deposit`ï¼Œ`Transfer`ï¼Œ`Approval`ï¼Œ`BeforeTransfer`ï¼Œ`AfterTransfer`ã€‚

#### å‡½æ•°åç§°
å‡½æ•°åº”è¯¥ä½¿ç”¨æ··åˆå¼å‘½åé£Žæ ¼ã€‚æ¯”å¦‚ï¼š`getBalance`ï¼Œ`transfer`ï¼Œ`verifyOwner`ï¼Œ`addMember`ï¼Œ`changeOwner`ã€‚

#### å‡½æ•°å‚æ•°å‘½å
å‡½æ•°å‚æ•°å‘½ååº”è¯¥ä½¿ç”¨æ··åˆå¼å‘½åé£Žæ ¼ã€‚æ¯”å¦‚ï¼š`initialSupply`ï¼Œ`account`ï¼Œ`recipientAddress`ï¼Œ`senderAddress`ï¼Œ`newOwner`ã€‚ 
åœ¨ç¼–å†™æ“ä½œè‡ªå®šä¹‰ç»“æž„çš„åº“å‡½æ•°æ—¶ï¼Œè¿™ä¸ªç»“æž„ä½“åº”è¯¥ä½œä¸ºå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¹¶ä¸”åº”è¯¥å§‹ç»ˆå‘½åä¸º `self`ã€‚

#### å±€éƒ¨å˜é‡å’ŒçŠ¶æ€å˜é‡åç§°
ä½¿ç”¨æ··åˆå¼å‘½åé£Žæ ¼ã€‚æ¯”å¦‚ï¼š`totalSupply`ï¼Œ`remainingSupply`ï¼Œ`balancesOf`ï¼Œ`creatorAddress`ï¼Œ`isPreSale`ï¼Œ`tokenExchangeRate`ã€‚

#### å¸¸é‡å‘½å
å¸¸é‡åº”è¯¥å…¨éƒ½ä½¿ç”¨å¤§å†™å­—æ¯ä¹¦å†™ï¼Œå¹¶ç”¨ä¸‹åˆ’çº¿åˆ†å‰²å•è¯ã€‚æ¯”å¦‚ï¼š`MAX_BLOCKS`ï¼Œ`TOKEN_NAME`ï¼Œ`TOKEN_TICKER`ï¼Œ`CONTRACT_VERSION`ã€‚

#### ä¿®é¥°ç¬¦å‘½å
ä½¿ç”¨æ··åˆå¼å‘½åé£Žæ ¼ã€‚æ¯”å¦‚ï¼š`onlyBy`ï¼Œ`onlyAfter`ï¼Œ`onlyDuringThePreSale`ã€‚

#### æžšä¸¾å‘½å
åœ¨å£°æ˜Žç®€å•ç±»åž‹æ—¶ï¼Œæžšä¸¾åº”è¯¥ä½¿ç”¨é©¼å³°å¼é£Žæ ¼ã€‚æ¯”å¦‚ï¼š`TokenGroup`ï¼Œ`Frame`ï¼Œ`HashStyle`ï¼Œ`CharacterLocation`ã€‚

#### é¿å…å‘½åå†²çª
`singleTrailingUnderscore_`
å½“æ‰€èµ·åç§°ä¸Žå†…å»ºæˆ–ä¿ç•™å…³é”®å­—ç›¸å†²çªæ—¶ï¼Œå»ºè®®ç…§æ­¤æƒ¯ä¾‹åœ¨åç§°åŽè¾¹æ·»åŠ ä¸‹åˆ’çº¿ã€‚


### ä»£ç ç»“æž„é¡ºåº
æŒ‰ä»¥ä¸‹é¡ºåºæŽ’åˆ—åˆçº¦å…ƒç´ 
- Pragma è¯­å¥
- Import è¯­å¥
- Interfaces
- Libraries
- Contracts

åœ¨æ¯ä¸ªåˆçº¦ã€åº“æˆ–æŽ¥å£ä¸­ï¼Œä½¿ç”¨ä»¥ä¸‹é¡ºåº
- ç±»åž‹å£°æ˜Ž
- çŠ¶æ€å˜é‡
- Events äº‹ä»¶
- Modifier ä¿®æ”¹å™¨
- Functions å‡½æ•°

:::info
åœ¨å£°æ˜Žç±»åž‹æ—¶ï¼ŒæŒ¨ç€å…¶ä½¿ç”¨çš„æ—¶é—´æˆ–çŠ¶æ€æ—¶ï¼Œä¼šæ›´æ¸…æ™°ã€‚
:::

### ç¼©è¿›
æ¯ä¸ªç¼©è¿›çº§åˆ«ä½¿ç”¨4ä¸ªç©ºæ ¼ã€‚

### åˆ¶è¡¨ç¬¦æˆ–ç©ºæ ¼
ç©ºæ ¼æ˜¯é¦–é€‰çš„ç¼©è¿›æ–¹æ³•ã€‚

åº”è¯¥é¿å…æ··åˆä½¿ç”¨åˆ¶è¡¨ç¬¦å’Œç©ºæ ¼ã€‚

### ç©ºè¡Œ
åœ¨ Solidity æºç ä¸­åˆçº¦å£°æ˜Žä¹‹é—´ç•™å‡ºä¸¤ä¸ªç©ºè¡Œã€‚

### ä»£ç è¡Œçš„æœ€å¤§é•¿åº¦

å°†ä»£ç è¡Œçš„å­—ç¬¦é•¿åº¦æŽ§åˆ¶åœ¨ 79ï¼ˆæˆ– 99ï¼‰å­—ç¬¦æ¥å¸®åŠ©è¯»è€…é˜…è¯»ä»£ç ã€‚
æŠ˜è¡Œæ—¶åº”è¯¥éµä»Žä»¥ä¸‹æŒ‡å¼•ï¼š
- ç¬¬ä¸€ä¸ªå‚æ•°ä¸åº”è¯¥ç´§è·Ÿåœ¨å·¦æ‹¬å·åŽè¾¹
- ç”¨ä¸€ä¸ªã€ä¸”åªç”¨ä¸€ä¸ªç¼©è¿›
- æ¯ä¸ªå‡½æ•°åº”è¯¥å•èµ·ä¸€è¡Œ
- ç»“æŸç¬¦å· ); åº”è¯¥å•ç‹¬æ”¾åœ¨æœ€åŽä¸€è¡Œ

### æºæ–‡ä»¶ç¼–ç æ ¼å¼

é¦–é€‰ UTF-8 æˆ– ASCII ç¼–ç ã€‚
**å¯¼å…¥æ–‡ä»¶è§„èŒƒ**
Import è¯­å¥åº”å§‹ç»ˆæ”¾åœ¨æ–‡ä»¶çš„é¡¶éƒ¨ã€‚

### å‡½æ•°é¡ºåº
æŽ’åºæœ‰åŠ©äºŽè¯»è€…è¯†åˆ«ä»–ä»¬å¯ä»¥è°ƒç”¨å“ªäº›å‡½æ•°ï¼Œå¹¶æ›´å®¹æ˜“åœ°æ‰¾åˆ°æž„é€ å‡½æ•°å’Œ fallback å‡½æ•°çš„å®šä¹‰ã€‚

å‡½æ•°åº”æ ¹æ®å…¶å¯è§æ€§å’Œé¡ºåºè¿›è¡Œåˆ†ç»„ï¼š

- æž„é€ å‡½æ•°
- receive å‡½æ•°ï¼ˆå¦‚æžœå­˜åœ¨ï¼‰
- fallback å‡½æ•°ï¼ˆå¦‚æžœå­˜åœ¨ï¼‰
- å¤–éƒ¨å‡½æ•°(external)
- å…¬å…±å‡½æ•°(public)
- å†…éƒ¨å‡½æ•°(internal)
- ç§æœ‰å‡½æ•°(private)
- åœ¨ä¸€ä¸ªåˆ†ç»„ä¸­ï¼ŒæŠŠ view å’Œ pure å‡½æ•°æ”¾åœ¨æœ€åŽã€‚

### è¡¨è¾¾å¼ä¸­çš„ç©ºæ ¼
åœ¨ä»¥ä¸‹æƒ…å†µä¸‹é¿å…æ— ä¸å¿…è¦çš„ç©ºæ ¼ï¼š
é™¤å•è¡Œå‡½æ•°å£°æ˜Žå¤–ï¼Œç´§æŽ¥ç€å°æ‹¬å·ï¼Œä¸­æ‹¬å·æˆ–è€…å¤§æ‹¬å·çš„å†…å®¹åº”è¯¥é¿å…ä½¿ç”¨ç©ºæ ¼ã€‚
æ­£ç¡®å†™æ³•:
```js
spam(ham[1], Coin({name: "ham"}));
```

### æŽ§åˆ¶ç»“æž„
ç”¨å¤§æ‹¬å·è¡¨ç¤ºä¸€ä¸ªåˆçº¦ï¼Œåº“ã€å‡½æ•°å’Œç»“æž„ã€‚ åº”è¯¥ï¼š

- å¼€æ‹¬å·ä¸Žå£°æ˜Žåº”åœ¨åŒä¸€è¡Œã€‚
- é—­æ‹¬å·åœ¨ä¸Žä¹‹å‰å‡½æ•°å£°æ˜Žå¯¹åº”çš„å¼€æ‹¬å·ä¿æŒåŒä¸€ç¼©è¿›çº§åˆ«ä¸Šå¦èµ·ä¸€è¡Œã€‚
- å¼€æ‹¬å·å‰åº”è¯¥æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚

å¯¹äºŽæŽ§åˆ¶ç»“æž„ `if`ï¼Œ `else`ï¼Œ `while`ï¼Œ `for` çš„å®žæ–½å»ºè®®ä¸Žä»¥ä¸Šç›¸åŒã€‚

å¦å¤–ï¼Œè¯¸å¦‚ `if`ï¼Œ `else`ï¼Œ `while`ï¼Œ `for` è¿™ç±»çš„æŽ§åˆ¶ç»“æž„å’Œæ¡ä»¶è¡¨è¾¾å¼çš„å—ä¹‹é—´åº”è¯¥æœ‰ä¸€ä¸ªå•ç‹¬çš„ç©ºæ ¼ï¼Œ
åŒæ ·çš„ï¼Œæ¡ä»¶è¡¨è¾¾å¼çš„å—å’Œå¼€æ‹¬å·ä¹‹é—´ä¹Ÿåº”è¯¥æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚

æ­£ç¡®å†™æ³•:
```js
if (...) {
    ...
}

for (...) {
    ...
}
```

å¯¹äºŽæŽ§åˆ¶ç»“æž„ï¼Œ å¦‚æžœ å…¶ä¸»ä½“å†…å®¹åªåŒ…å«ä¸€è¡Œï¼Œåˆ™å¯ä»¥çœç•¥æ‹¬å·ã€‚

æ­£ç¡®å†™æ³•:
```js
if (x < 10)
    x += 1;
```

å¯¹äºŽå…·æœ‰ `else` æˆ– `else if` å­å¥çš„ `if` å—ï¼Œ 
`else` åº”è¯¥æ˜¯ä¸Ž `if` çš„é—­å¤§æ‹¬å·æ”¾åœ¨åŒä¸€è¡Œä¸Šã€‚ è¿™ä¸€è§„åˆ™åŒºåˆ«äºŽ å…¶ä»–å—çŠ¶ç»“æž„ã€‚

æ­£ç¡®å†™æ³•:
```js

if (x < 3) {
    x += 1;
} else if (x > 7) {
    x -= 1;
} else {
    x = 5;
}

if (x < 3)
    x += 1;
else
    x -= 1;
```

### å‡½æ•°å£°æ˜Ž
å¯¹äºŽç®€çŸ­çš„å‡½æ•°å£°æ˜Žï¼Œå»ºè®®å‡½æ•°ä½“çš„å¼€æ‹¬å·ä¸Žå‡½æ•°å£°æ˜Žä¿æŒåœ¨åŒä¸€è¡Œã€‚

é—­å¤§æ‹¬å·åº”è¯¥ä¸Žå‡½æ•°å£°æ˜Žçš„ç¼©è¿›çº§åˆ«ç›¸åŒã€‚

å¼€å¤§æ‹¬å·ä¹‹å‰åº”è¯¥æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚

æ­£ç¡®å†™æ³•:
```js
function increment(uint x) public pure returns (uint) {
    return x + 1;
}

function increment(uint x) public pure onlyowner returns (uint) {
    return x + 1;
}
```

ä½ åº”è¯¥ä¸¥æ ¼åœ°æ ‡ç¤ºæ‰€æœ‰å‡½æ•°çš„å¯è§æ€§ï¼ŒåŒ…æ‹¬æž„é€ å‡½æ•°ã€‚

æ­£ç¡®å†™æ³•:
```js
function explicitlyPublic(uint val) public {
    doSomething();
}
```

### å‡½æ•°ä¿®æ”¹å™¨çš„é¡ºåº

- å¯è§æ€§ï¼ˆVisibilityï¼‰
- å¯å˜æ€§ï¼ˆMutabilityï¼‰
- è™šæ‹Ÿï¼ˆVirtualï¼‰
- é‡è½½ï¼ˆOverrideï¼‰
- è‡ªå®šä¹‰ä¿®æ”¹å™¨ï¼ˆCustom modifiersï¼‰

æ­£ç¡®å†™æ³•:
```js
function balance(uint from) public view override returns (uint)  {
    return balanceOf[from];
}

function shutdown() public onlyowner {
    selfdestruct(owner);
}
```

å¯¹äºŽé•¿å‡½æ•°å£°æ˜Žï¼Œå»ºè®®å°†æ¯ä¸ªå‚æ•°ç‹¬ç«‹ä¸€è¡Œå¹¶ä¸Žå‡½æ•°ä½“ä¿æŒç›¸åŒçš„ç¼©è¿›çº§åˆ«ã€‚é—­æ‹¬å·å’Œå¼€æ‹¬å·ä¹Ÿåº”è¯¥ ç‹¬ç«‹ä¸€è¡Œå¹¶ä¿æŒä¸Žå‡½æ•°å£°æ˜Žç›¸åŒçš„ç¼©è¿›çº§åˆ«ã€‚

æ­£ç¡®å†™æ³•:
```js

function thisFunctionHasLotsOfArguments(
    address a,
    address b,
    address c,
    address d,
    address e,
    address f
)
public
{
    doSomething();
}
```

å¦‚æžœä¸€ä¸ªé•¿å‡½æ•°å£°æ˜Žæœ‰ä¿®é¥°ç¬¦ï¼Œé‚£ä¹ˆæ¯ä¸ªä¿®é¥°ç¬¦åº”è¯¥ä¸‹æ²‰åˆ°ç‹¬ç«‹çš„ä¸€è¡Œã€‚

æ­£ç¡®å†™æ³•:
```js
function thisFunctionNameIsReallyLong(address x, address y, address z)
    public
    onlyowner
    priced
    returns (address)
{
    doSomething();
}

function thisFunctionNameIsReallyLong(
    address x,
    address y,
    address z
)
    public
    onlyowner
    priced
    returns (address)
{
    doSomething();
}
```

å¤šè¡Œè¾“å‡ºå‚æ•°å’Œè¿”å›žå€¼è¯­å¥åº”è¯¥éµä»Ž ä»£ç è¡Œçš„æœ€å¤§é•¿åº¦ ä¸€èŠ‚çš„è¯´æ˜Žã€‚

æ­£ç¡®å†™æ³•:
```js
function thisFunctionNameIsReallyLong(
    address a,
    address b,
    address c
)
    public
    returns (
        address someAddressName,
        uint256 LongArgument,
        uint256 Argument
)
{
    doSomething()

    return (
        veryLongReturnArg1,
        veryLongReturnArg2,
        veryLongReturnArg3
    );
}
```

å¯¹äºŽç»§æ‰¿åˆçº¦ä¸­éœ€è¦å‚æ•°çš„æž„é€ å‡½æ•°ï¼Œå¦‚æžœå‡½æ•°å£°æ˜Žå¾ˆé•¿æˆ–éš¾ä»¥é˜…è¯»ï¼Œå»ºè®®å°†åŸºç¡€æž„é€ å‡½æ•°åƒå¤šä¸ªä¿®é¥°ç¬¦çš„é£Žæ ¼é‚£æ · æ¯ä¸ªä¸‹æ²‰åˆ°ä¸€ä¸ªæ–°è¡Œä¸Šä¹¦å†™ã€‚

æ­£ç¡®å†™æ³•:

```js
// SPDX-License-Identifier: GPL-3.0
pragma solidity ^0.7.0;

// Base contracts just to make this compile
contract B {
    constructor(uint) {
    }
}
contract C {
    constructor(uint, uint) {
    }
}
contract D {
    constructor(uint) {
    }
}

contract A is B, C, D {
    uint x;

    constructor(uint param1, uint param2, uint param3, uint param4, uint param5)
        B(param1)
        C(param2, param3)
        D(param4)
    {
        // do something with param5
        x = param5;
    }
}
```

å½“ç”¨å•ä¸ªè¯­å¥å£°æ˜Žç®€çŸ­å‡½æ•°æ—¶ï¼Œå…è®¸åœ¨ä¸€è¡Œä¸­å®Œæˆã€‚
å…è®¸çš„å†™æ³•:
```js
function shortFunction() public { doSomething(); }
```

### æ˜ å°„
åœ¨å˜é‡å£°æ˜Žä¸­ï¼Œä¸è¦ç”¨ç©ºæ ¼å°†å…³é”®å­— mapping å’Œå…¶ç±»åž‹åˆ†å¼€ã€‚ ç±»åž‹ä¹‹é—´ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ã€‚ä¸è¦ç”¨ç©ºæ ¼åˆ†éš”ä»»ä½•åµŒå¥—çš„ mapping å…³é”®è¯å’Œå®ƒçš„ç±»åž‹ã€‚

æ­£ç¡®å†™æ³•:
```js
mapping(uint => uint) map;
mapping(address => bool) registeredAddresses;
mapping(uint => mapping(bool => Data[])) public data;
mapping(uint => mapping(uint => s)) data;
```
### å˜é‡å£°æ˜Ž
æ•°ç»„å˜é‡çš„å£°æ˜Žåœ¨å˜é‡ç±»åž‹å’Œæ‹¬å·ä¹‹é—´ä¸åº”è¯¥æœ‰ç©ºæ ¼ã€‚

æ­£ç¡®å†™æ³•:
```js
uint[] x;
```

### å…¶ä»–å»ºè®®
**å­—ç¬¦ä¸²åº”è¯¥ç”¨åŒå¼•å·è€Œä¸æ˜¯å•å¼•å·**ã€‚
æ­£ç¡®å†™æ³•:
```js
str = "foo";
str = "Hamlet says, 'To be or not to be...'";
```
**æ“ä½œç¬¦ä¸¤è¾¹åº”è¯¥å„æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚**
æ­£ç¡®å†™æ³•:
```js
x = 3;
x = 100 / 10;
x += 3 + 4;
x |= y && z;
```

ä¸ºäº†è¡¨ç¤ºä¼˜å…ˆçº§ï¼Œé«˜ä¼˜å…ˆçº§æ“ä½œç¬¦ä¸¤è¾¹å¯ä»¥çœç•¥ç©ºæ ¼ã€‚è¿™æ ·å¯ä»¥æé«˜å¤æ‚è¯­å¥çš„å¯è¯»æ€§ã€‚
ä½ åº”è¯¥åœ¨æ“ä½œç¬¦ä¸¤è¾¹æ€»æ˜¯ä½¿ç”¨ç›¸åŒçš„ç©ºæ ¼æ•°ï¼š
æ­£ç¡®å†™æ³•:
```js
x = 2**3 + 5;
x = 2*y + 3*z;
x = (a+b) * (a-b);
```

### æè¿°æ³¨é‡Š NatSpec
Solidity æ™ºèƒ½åˆçº¦åŒ…å«äº†NatSpecæ³¨é‡Šå½¢å¼ã€‚ 
å•è¡Œä½¿ç”¨ /// å¼€å§‹ï¼Œå¤šè¡Œä½¿ç”¨ /** å¼€å¤´ä»¥ */ ç»“å°¾ã€‚

ä¾‹å¦‚, ä»¥æ¥è‡ª ç®€å•åˆçº¦ åŠ ä¸Šæ³¨é‡Šä¸ºä¾‹ï¼Œçœ‹ä¸ŠåŽ»æ˜¯è¿™æ ·ï¼š

```js
pragma solidity >=0.4.16 <0.9.0;

/// @author The Solidity Team
/// @title A simple storage example
contract TinyStorage {
uint storedData;

    /// Store `x`.
    /// @param x the new value to store
    /// @dev stores the number in the state variable `storedData`
    function set(uint x) public {
        storedData = x;
    }

    /// Return the stored value.
    /// @dev retrieves the value of the state variable `storedData`
    /// @return the stored value
    function get() public view returns (uint) {
        return storedData;
    }
}
```
æ³¨é‡Šè¯¦ç»†çš„è¡¨è¿°å¯æŸ¥çœ‹ï¼š[natspec-format](https://docs.soliditylang.org/en/latest/natspec-format.html)


### è‡ªåŠ¨åŒ–æ ¼å¼
é˜…è¯»ä»£ç åº”è¯¥åƒé˜…è¯»è¿™ä¸ªåšå®¢ã€ä¸€ç¯‡æ–‡ç« æˆ–ä¸€æœ¬ä¹¦ä¸€æ ·ã€‚å®ƒåº”è¯¥è¢«å¾ˆå¥½åœ°æ ¼å¼åŒ–ã€‚Solidityé£Žæ ¼æŒ‡å—ä¸ºç¼–å†™Solidityä»£ç æä¾›äº†æŒ‡å¯¼ã€‚å®ƒçš„ç›®æ ‡ä¸æ˜¯æ­£ç¡®çš„æˆ–å”¯ä¸€çš„æ–¹æ³•ï¼Œè€Œæ˜¯è¦ä¿æŒä¸€è‡´ã€‚

å¯ä»¥é€šè¿‡ä½¿ç”¨lintæ¥å®žçŽ°ä¸€è‡´æ€§ã€‚ è¿™ä¸ä»…æä¾›æ ¼å¼å’Œæ ·å¼æŒ‡å—éªŒè¯ï¼Œè¿˜åŒ…æ‹¬å®‰å…¨éªŒè¯ã€‚

Solidityå¯ç”¨çš„lint

- [Ethlint](https://github.com/duaraghav8/Ethlint) (åŽŸå Solium)
- [Solhint](https://github.com/protofire/solhint)
- [VS Code Solidity](https://github.com/juanfranblanco/vscode-solidity/)
ä¸ºæ‚¨çš„dappå¼€å‘ä½¿ç”¨å¸¸è§„çš„lintï¼ˆä¾‹å¦‚eslintï¼Œå…·ä½“å–å†³äºŽæ‚¨çš„è¯­è¨€ï¼‰ã€‚

### é”™è¯¯å¤„ç†
å¼‚å¸¸æ˜¯çŽ°ä»£è½¯ä»¶å·¥ç¨‹çš„å…³é”®éƒ¨åˆ†ã€‚å®ƒä»¬éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œå¹¶ä¸”åŠŸèƒ½éžå¸¸å¼ºå¤§ã€‚
ä¸Žå…¶å¯¹æŠ—ï¼Œæˆ‘ä»¬åº”è¯¥å°è¯•åˆ©ç”¨å®ƒä»¬ï¼Œå› ä¸ºæœªå¤„ç†çš„å¼‚å¸¸å¯èƒ½ä¼šå¯¼è‡´æ„å¤–è¡Œä¸ºã€‚

å½“åœ¨Solidityä»£ç ä¸­å¼•å‘å¼‚å¸¸æ—¶ï¼Œæ‰€æœ‰çŠ¶æ€æ›´æ”¹éƒ½å°†å›žæ»šå¹¶åœæ­¢è¿›ä¸€æ­¥æ‰§è¡Œã€‚
å¹¸è¿çš„æ˜¯ï¼ŒSolidityå†…ç½®äº†å¼‚å¸¸å¤„ç†åŠŸèƒ½ï¼ˆè‡ª0.6ç‰ˆæœ¬å¼€å§‹ï¼‰ã€‚è¿™ä»…é€‚ç”¨äºŽå¤–éƒ¨è°ƒç”¨ï¼ˆexternal callsï¼‰ã€‚

ä¸ºå¼‚å¸¸æä¾›è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ï¼Œä»¥ç¡®å®šé”™è¯¯çš„æ¥æºå’ŒåŽŸå› ã€‚å°è¯•ç¼–å†™å¼•å‘è¿™äº›å¼‚å¸¸çš„æµ‹è¯•ã€‚

å°è¯•ç¼–å†™æŠ›å‡ºè¿™äº›å¼‚å¸¸çš„æµ‹è¯•ã€‚

ä¸è¦è¿”å›žnullã€‚ä¸è¦å°†nullä¼ é€’ç»™å‡½æ•°ã€‚

ä¿æŠ¤æ£€æŸ¥ï¼ˆGuard Checksï¼‰å¯ä»¥å¸®åŠ©ç¡®ä¿æ™ºèƒ½åˆçº¦çš„è¡Œä¸ºåŠå…¶è¾“å…¥å‚æ•°ç¬¦åˆé¢„æœŸã€‚

æ­£ç¡®ä½¿ç”¨ `assert()`, `require()`, `revert()`ã€‚
`assert` åº”è¯¥ç”¨äºŽæµ‹è¯•å†…éƒ¨é”™è¯¯ï¼Œå¹¶æ£€æŸ¥å¸¸é‡ã€‚
`require` åº”è¯¥ç”¨äºŽæµ‹è¯•è¾“å…¥ï¼Œåˆçº¦çŠ¶æ€å˜é‡æˆ–æ¥è‡ªå¤–éƒ¨åˆçº¦çš„è¿”å›žå€¼æ˜¯å¦æœ‰æ•ˆã€‚

å¦‚æžœäº¤æ˜“æ²¡æœ‰è¶³å¤Ÿçš„gasæ¥æ‰§è¡Œï¼Œåˆ™ä¸ä¼šæ•èŽ·gasæº¢å‡ºé”™è¯¯ã€‚

<EmbedGiscus>giscusStandards</EmbedGiscus>
